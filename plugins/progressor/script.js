$(function(){var a,b=0;$(".startTimer").on("click",function(){var a=$(this).parents('[data-for="barWrapper"]');timerBar(a)}),$(".play").on("click",function(a){var c=$(this).parents('[data-for="barWrapper"]');0==b&&(startTime=c.find('[data-timer="timer"]').text(),b=1),timerBar(c)}),$(".pause").on("click",function(a){var b=$(this).parents('[data-for="barWrapper"]');b.find(".pause").attr("disabled","disabled").addClass("disabled"),pauseBar(b)}),$(".stop").on("click",function(a){var b=$(this).parents('[data-for="barWrapper"]');b.find(".pause,.stop").attr("disabled","disabled").addClass("disabled"),b.find(".play").removeAttr("disabled").removeClass("disabled"),stopBar(b)}),$(".increaseBar").on("click",function(a){var b=$(this).parents('[data-for="barWrapper"]'),c=parseInt(b.find('[data-progress="progressPercent"]').text().split("%")[0]),d=parseInt($(this).val().split(" ")[1]);if(c<100&&100-c>=d){var e=parseInt(c)+d+"%";b.find('[data-cover="progresser"]').css({width:e}),b.find('[data-progress="progressPercent"]').text(e),setColor(b,e)}}),$(".reduceBar").on("click",function(a){var b=$(this).parents('[data-for="barWrapper"]'),c=parseInt(b.find('[data-progress="progressPercent"]').text().split("%")[0]),d=parseInt($(this).val().split(" ")[1]);if(c>=d){var e=parseInt(c)-d+"%";b.find('[data-cover="progresser"]').css({width:e}),b.find('[data-progress="progressPercent"]').text(e),setColor(b,e)}}),setColor=function(a,b){"100%"==b?a.find('[data-cover="progresser"]').css({"background-color":"red"}):a.find('[data-cover="progresser"]').css({"background-color":"#16a183"})},timerBar=function(b){b.find(".play").attr("disabled","disabled").addClass("disabled"),b.find(".pause,.stop").removeAttr("disabled").removeClass("disabled");var c,d,e;if(a=setInterval(function(){if(c=b.find('[data-timer="timer"]').text(),d=c.split(":")[0],e=c.split(":")[1],barwidth=parseInt(b.find('[data-bar="progressiveBar"]').outerWidth()),e>0?(e=e>10?parseInt(e-1):"0"+parseInt(e-1),c=d+":"+e):0==e&&d>0?(d=d>10?parseInt(d-1):"0"+parseInt(d-1),c=d+":59"):(c="00:00",b.find('[data-cover="progresser"]').css({"background-color":"red"}),b.find(".pause").attr("disabled","disabled").addClass("disabled"),clearInterval(a)),b.find('[data-timer="timer"]').text(c),b.find('[data-progress="progressPercent"]')){var f=parseInt(100*b.find('[data-cover="progresser"]').width()/barwidth)+"%";b.find('[data-progress="progressPercent"]').text(f)}},1e3),b.find('[data-timer="timer"]')){var g=b.find('[data-timer="timer"]').text().split(":"),h=1e3*(60*parseInt(g[0])+parseInt(g[1]));b.find('[data-cover="progresser"]').animate({width:"100%"},h,"linear")}},pauseBar=function(b){clearInterval(a),b.find('[data-cover="progresser"]').stop(),b.find(".play").removeAttr("disabled").removeClass("disabled")},stopBar=function(b){clearInterval(a),b.find('[data-cover="progresser"]').stop().css({width:"0px"}),b.find('[data-timer="timer"]').text(startTime),b.find('[data-progress="progressPercent"]').text("0%")}});
