<html>
<head>
	<title>TIC TAC TOE</title>
	<style type="text/css">
		* {
			box-sizing: border-box;
		}
		.tictactoe {
			width:300px;
			height:300px;
			position: absolute;
		    top: 0;
		    bottom: 0;
		    left: 0;
		    right: 0;
		    margin: auto;
		}
		.tictactoe:after {
			content:"";
			clear: both;
		}
		.cell {
			width: 100px;
			height: 100px;
			line-height: 100px;
			border: 1px solid #000;
			float: left;
			text-align: center; 
			text-transform: uppercase;
			cursor: pointer;
		}
	</style>
</head>
<body>
	<div class="tictactoe">
		<div class="cell"></div>
		<div class="cell"></div>
		<div class="cell"></div>
		<div class="cell"></div>
		<div class="cell"></div>
		<div class="cell"></div>
		<div class="cell"></div>
		<div class="cell"></div>
		<div class="cell"></div>
	</div>
</body>
<script type="text/javascript" src="../jquery-3.3.1.min.js"></script>
<script type="text/javascript">
	 var win = [
	 		[0,1,2],
	 		[3,4,5],
	 		[6,7,8],
	 		[0,3,6],
	 		[1,4,7],
	 		[2,5,8],
	 		[0,4,8],
	 		[2,4,6]
	 	],
	 	turn = true,
	 	flag = {'X': 0, 'O' : 0},
	 	moves = 0;

	 $(document).ready(function (e) {

	 	$(".cell").on("click", function () {

	 		var ele = $(this),
	 		index = ele.index();
	 		
 			if($.trim(ele.text()) == '') {
 				moves++;
	 			if(turn) {
		 			ele.text('X');
		 		} 
		 		else {
		 			$(this).text('O');
		 		} 
		 		turn = !turn;
	 		}
	 		else {
	 			alert("Already taken.")
	 		}
	 		if(moves > 4) {
	 			for(var i=0; i<win.length; i++) {
		 			for(var j=0;j<3;j++) {
		 				if($(".cell").eq(win[i][j]).text() != '') {
			 				if($(".cell").eq(win[i][j]).text() == 'X') {
			 					flag.X++;
			 				}
			 				else {
			 					flag.O++;
			 				}
			 			}
		 			}
		 			if(flag.X == 3) {
		 				setTimeout(function() {
		 					alert("X Wins");
		 				},300)
		 			}
		 			if(flag.O == 3) {
		 				setTimeout(function() {
		 					alert("O Wins");
		 				},300)
		 			}
		 			if(moves == 9 || flag.X == 3 || flag.O == 3) {
		 				resetGame();
		 				return false;
		 			}
		 			else {
		 				flag.X = flag.O = 0;
		 			}
	 			}
	 		}
	 		function resetGame() {
	 			setTimeout(function() {
	 				alert("Game over.");
	 				location.reload();
	 			},300);
	 		}
	 	});
	 });

</script>
</html>